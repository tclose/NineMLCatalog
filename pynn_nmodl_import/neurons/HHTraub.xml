<?xml version='1.0' encoding='UTF-8'?>
<NineML xmlns="http://nineml.net/9ML/1.0">
  <Dynamics name="HHTraub">
    <Parameter dimension="voltage" name="el"/>
    <Parameter dimension="conductance" name="gkbar"/>
    <Parameter dimension="conductance" name="gnabar"/>
    <Parameter dimension="voltage" name="vT"/>
    <Parameter dimension="voltage" name="unitmV"/>
    <Parameter dimension="conductance" name="gl"/>
    <Parameter dimension="time" name="unitms"/>
    <Parameter name="C" dimension="capacitance"/>    
    <AnalogReceivePort dimension="voltage" name="ena"/>
    <AnalogReceivePort dimension="voltage" name="ek"/>
    <AnalogSendPort dimension="current" name="ik"/>
    <AnalogSendPort dimension="current" name="il"/>
    <AnalogSendPort dimension="current" name="ina"/>
    <AnalogReducePort name="iExt" dimension="current" operator="+"/>    
    <StateVariable dimension="voltage" name="v"/>
    <StateVariable dimension="dimensionless" name="h"/>
    <StateVariable dimension="dimensionless" name="m"/>
    <StateVariable dimension="dimensionless" name="n"/>
    <Regime name="regime_0">
      <TimeDerivative variable="v">
        <MathInline>(ina + ik + il + iExt) / C</MathInline>
      </TimeDerivative>      
      <TimeDerivative variable="h">
        <MathInline>(-h + hinf)/(htau*unitms)</MathInline>
      </TimeDerivative>
      <TimeDerivative variable="m">
        <MathInline>(-m + minf)/(mtau*unitms)</MathInline>
      </TimeDerivative>
      <TimeDerivative variable="n">
        <MathInline>(-n + ninf)/(ntau*unitms)</MathInline>
      </TimeDerivative>
    </Regime>
    <Alias name="vtrap_u__d__unitmV__m__40_5">
      <MathInline>((abs(u/(5*unitmV) - 8) &lt; 1.0e-6) ? ( -1/2*u/unitmV + 25 ) : ( (u/unitmV - 40)/(exp((1/5)*u/unitmV - 8) - 1) ))</MathInline>
    </Alias>
    <Alias name="minf">
      <MathInline>alpha__tmp/sum__tmp</MathInline>
    </Alias>
    <Alias name="ik">
      <MathInline>gk*(-ek + v)</MathInline>
    </Alias>
    <Alias name="il">
      <MathInline>gl*(-el + v)</MathInline>
    </Alias>
    <Alias name="mtau">
      <MathInline>1.0/sum__tmp</MathInline>
    </Alias>
    <Alias name="beta__tmp1">
      <MathInline>4/(exp(-1/5*u/unitmV + 8) + 1)</MathInline>
    </Alias>
    <Alias name="gk">
      <MathInline>gkbar*(n*n*n*n)</MathInline>
    </Alias>
    <Alias name="ina">
      <MathInline>gna*(-ena + v)</MathInline>
    </Alias>
    <Alias name="ntau">
      <MathInline>1.0/sum</MathInline>
    </Alias>
    <Alias name="sum">
      <MathInline>alpha + beta</MathInline>
    </Alias>
    <Alias name="hinf">
      <MathInline>alpha__tmp1/sum__tmp1</MathInline>
    </Alias>
    <Alias name="htau">
      <MathInline>1.0/sum__tmp1</MathInline>
    </Alias>
    <Alias name="beta__tmp">
      <MathInline>0.28*vtrap_u__d__unitmV__m__40_5</MathInline>
    </Alias>
    <Alias name="sum__tmp">
      <MathInline>alpha__tmp + beta__tmp</MathInline>
    </Alias>
    <Alias name="beta">
      <MathInline>0.5*exp(-1/40*u/unitmV + 1/4)</MathInline>
    </Alias>
    <Alias name="alpha__tmp1">
      <MathInline>0.128*exp(-1/18*u/unitmV + 17/18)</MathInline>
    </Alias>
    <Alias name="alpha">
      <MathInline>0.032*vtrap_15__m__u__d__unitmV_5</MathInline>
    </Alias>
    <Alias name="vtrap_15__m__u__d__unitmV_5">
      <MathInline>((abs(-u/(5*unitmV) + 3) &lt; 1.0e-6) ? ( (1/2)*u/unitmV - 5/2 ) : ( (-u/unitmV + 15)/(exp(-1/5*u/unitmV + 3) - 1) ))</MathInline>
    </Alias>
    <Alias name="sum__tmp1">
      <MathInline>alpha__tmp1 + beta__tmp1</MathInline>
    </Alias>
    <Alias name="alpha__tmp">
      <MathInline>0.32*vtrap_13__m__u__d__unitmV_4</MathInline>
    </Alias>
    <Alias name="gna">
      <MathInline>gnabar*h*(m*m*m)</MathInline>
    </Alias>
    <Alias name="u">
      <MathInline>v - vT</MathInline>
    </Alias>
    <Alias name="ninf">
      <MathInline>alpha/sum</MathInline>
    </Alias>
    <Alias name="vtrap_13__m__u__d__unitmV_4">
      <MathInline>((abs(-u/(4*unitmV) + 13/4) &lt; 1.0e-6) ? ( (1/2)*u/unitmV - 5/2 ) : ( (-u/unitmV + 13)/(exp(-1/4*u/unitmV + 13/4) - 1) ))</MathInline>
    </Alias>
  </Dynamics>  
  <DynamicsProperties name="HHTraubProperties">
    <Definition name="HHTraub"/>
    <Property units="mV" name="el">
      <SingleValue>-60.0</SingleValue>
    </Property>
    <Property units="S" name="gkbar">
      <SingleValue>6</SingleValue>
    </Property>
    <Property units="S" name="gl">
      <SingleValue>1e-02</SingleValue>
    </Property>
    <Property units="S" name="gnabar">
      <SingleValue>20</SingleValue>
    </Property>
    <Property units="mV" name="unitmV">
      <SingleValue>1.0</SingleValue>
    </Property>
    <Property units="ms" name="unitms">
      <SingleValue>1.0</SingleValue>
    </Property>
    <Property units="mV" name="vT">
      <SingleValue>-63.0</SingleValue>
    </Property>
    <Property units="uF" name="C">
      <SingleValue>1.0</SingleValue>
    </Property>
  </DynamicsProperties>
  <Dimension i="2" l="-2" m="-1" t="3" name="conductance"/>
  <Dimension name="time" t="1"/>
  <Dimension i="-1" l="2" m="1" t="-3" name="voltage"/>
  <Dimension i="1" name="current"/>
  <Dimension name="dimensionless"/>  
  <Dimension name="capacitance" m="-1" l="-2" t="4" i="2"/>
  <Unit symbol="mV" dimension="voltage" power="-3"/>
  <Unit symbol="ms" dimension="time" power="-3"/>
  <Unit symbol="S" dimension="conductance" power="0"/>
  <Unit symbol="uF" dimension="capacitance" power="-6"/>
</NineML>
